{"ast":null,"code":"/*!\n * https://github.com/paulmillr/es6-shim\n * @license es6-shim Copyright 2013-2014 by Paul Miller (http://paulmillr.com)\n *   and contributors,  MIT License\n * es6-shim: v0.22.2\n * see https://github.com/paulmillr/es6-shim/blob/0.22.2/LICENSE\n * Details and documentation:\n * https://github.com/paulmillr/es6-shim/\n */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define, module, exports */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var isCallableWithoutNew = function (func) {\n    try {\n      func();\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n  var supportsSubclassing = function (C, f) {\n    /* jshint proto:true */\n    try {\n      var Sub = function () {\n        C.apply(this, arguments);\n      };\n      if (!Sub.__proto__) {\n        return false; /* skip test on IE < 11 */\n      }\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = Object.create(C.prototype, {\n        constructor: {\n          value: C\n        }\n      });\n      return f(Sub);\n    } catch (e) {\n      return false;\n    }\n  };\n  var arePropertyDescriptorsSupported = function () {\n    try {\n      Object.defineProperty({}, 'x', {});\n      return true;\n    } catch (e) {\n      /* this is IE 8. */\n      return false;\n    }\n  };\n  var startsWithRejectsRegex = function () {\n    var rejectsRegex = false;\n    if (String.prototype.startsWith) {\n      try {\n        '/a/'.startsWith(/a/);\n      } catch (e) {\n        /* this is spec compliant */\n        rejectsRegex = true;\n      }\n    }\n    return rejectsRegex;\n  };\n\n  /*jshint evil: true */\n  var getGlobal = new Function('return this;');\n  /*jshint evil: false */\n\n  var globals = getGlobal();\n  var global_isFinite = globals.isFinite;\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var startsWithIsCompliant = startsWithRejectsRegex();\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n  var Symbol = globals.Symbol || {};\n  var Type = {\n    string: function (x) {\n      return _toString(x) === '[object String]';\n    },\n    regex: function (x) {\n      return _toString(x) === '[object RegExp]';\n    },\n    symbol: function (x) {\n      /*jshint notypeof: true */\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n      /*jshint notypeof: false */\n    }\n  };\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) {\n      return;\n    }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() {\n          return originalObject[key];\n        },\n        set: function setKey(value) {\n          originalObject[key] = value;\n        }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they donâ€™t exist.\n  var defineProperties = function (object, map) {\n    Object.keys(map).forEach(function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, false);\n    });\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    function Prototype() {}\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      defineProperties(object, properties);\n    }\n    return object;\n  };\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n  var addIterator = function (prototype, impl) {\n    if (!impl) {\n      impl = function iterator() {\n        return this;\n      };\n    }\n    var o = {};\n    o[$iterator$] = impl;\n    defineProperties(prototype, o);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = impl;\n    }\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isArguments = function isArguments(value) {\n    var str = _toString(value);\n    var result = str === '[object Arguments]';\n    if (!result) {\n      result = str !== '[object Array]' && value !== null && typeof value === 'object' && typeof value.length === 'number' && value.length >= 0 && _toString(value.callee) === '[object Function]';\n    }\n    return result;\n  };\n  var ES = {\n    CheckObjectCoercible: function (x, optMessage) {\n      /* jshint eqnull:true */\n      if (x == null) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n    TypeIsObject: function (x) {\n      /* jshint eqnull:true */\n      // this is expensive when it returns false; use this function\n      // when you expect it to return true in the common case.\n      return x != null && Object(x) === x;\n    },\n    ToObject: function (o, optMessage) {\n      return Object(ES.CheckObjectCoercible(o, optMessage));\n    },\n    IsCallable: function (x) {\n      // some versions of IE say that typeof /abc/ === 'function'\n      return typeof x === 'function' && _toString(x) === '[object Function]';\n    },\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n    ToNumber: function (value) {\n      if (_toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (Number.isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !Number.isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    },\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) {\n        return 0;\n      } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) {\n        return Number.MAX_SAFE_INTEGER;\n      }\n      return len;\n    },\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) {\n          return 1 / a === 1 / b;\n        }\n        return true;\n      }\n      return Number.isNaN(a) && Number.isNaN(b);\n    },\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return a === b || Number.isNaN(a) && Number.isNaN(b);\n    },\n    IsIterable: function (o) {\n      return ES.TypeIsObject(o) && (typeof o[$iterator$] !== 'undefined' || isArguments(o));\n    },\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = o[$iterator$];\n      if (!ES.IsCallable(itFn)) {\n        throw new TypeError('value is not an iterable');\n      }\n      var it = itFn.call(o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n    Construct: function (C, args) {\n      // CreateFromConstructor\n      var obj;\n      if (ES.IsCallable(C['@@create'])) {\n        obj = C['@@create']();\n      } else {\n        // OrdinaryCreateFromConstructor\n        obj = create(C.prototype || null);\n      }\n      // Mark that we've used the es6 construct path\n      // (see emulateES6construct)\n      defineProperties(obj, {\n        _es6construct: true\n      });\n      // Call the constructor.\n      var result = C.apply(obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    }\n  };\n  var emulateES6construct = function (o) {\n    if (!ES.TypeIsObject(o)) {\n      throw new TypeError('bad object');\n    }\n    // es5 approximation to es6 subclass semantics: in es6, 'new Foo'\n    // would invoke Foo.@@create to allocation/initialize the new object.\n    // In es5 we just get the plain object.  So if we detect an\n    // uninitialized object, invoke o.constructor.@@create\n    if (!o._es6construct) {\n      if (o.constructor && ES.IsCallable(o.constructor['@@create'])) {\n        o = o.constructor['@@create'](o);\n      }\n      defineProperties(o, {\n        _es6construct: true\n      });\n    }\n    return o;\n  };\n  var numberConversion = function () {\n    // from https://github.com/inexorabletash/polyfill/blob/master/typedarray.js#L176-L266\n    // with permission and license, per https://twitter.com/inexorabletash/status/372206509540659200\n\n    function roundToEven(n) {\n      var w = Math.floor(n),\n        f = n - w;\n      if (f < 0.5) {\n        return w;\n      }\n      if (f > 0.5) {\n        return w + 1;\n      }\n      return w % 2 ? w + 1 : w;\n    }\n    function packIEEE754(v, ebits, fbits) {\n      var bias = (1 << ebits - 1) - 1,\n        s,\n        e,\n        f,\n        i,\n        bits,\n        str,\n        bytes;\n\n      // Compute sign, exponent, fraction\n      if (v !== v) {\n        // NaN\n        // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n        e = (1 << ebits) - 1;\n        f = Math.pow(2, fbits - 1);\n        s = 0;\n      } else if (v === Infinity || v === -Infinity) {\n        e = (1 << ebits) - 1;\n        f = 0;\n        s = v < 0 ? 1 : 0;\n      } else if (v === 0) {\n        e = 0;\n        f = 0;\n        s = 1 / v === -Infinity ? 1 : 0;\n      } else {\n        s = v < 0;\n        v = Math.abs(v);\n        if (v >= Math.pow(2, 1 - bias)) {\n          e = Math.min(Math.floor(Math.log(v) / Math.LN2), 1023);\n          f = roundToEven(v / Math.pow(2, e) * Math.pow(2, fbits));\n          if (f / Math.pow(2, fbits) >= 2) {\n            e = e + 1;\n            f = 1;\n          }\n          if (e > bias) {\n            // Overflow\n            e = (1 << ebits) - 1;\n            f = 0;\n          } else {\n            // Normal\n            e = e + bias;\n            f = f - Math.pow(2, fbits);\n          }\n        } else {\n          // Subnormal\n          e = 0;\n          f = roundToEven(v / Math.pow(2, 1 - bias - fbits));\n        }\n      }\n\n      // Pack sign, exponent, fraction\n      bits = [];\n      for (i = fbits; i; i -= 1) {\n        bits.push(f % 2 ? 1 : 0);\n        f = Math.floor(f / 2);\n      }\n      for (i = ebits; i; i -= 1) {\n        bits.push(e % 2 ? 1 : 0);\n        e = Math.floor(e / 2);\n      }\n      bits.push(s ? 1 : 0);\n      bits.reverse();\n      str = bits.join('');\n\n      // Bits to bytes\n      bytes = [];\n      while (str.length) {\n        bytes.push(parseInt(str.slice(0, 8), 2));\n        str = str.slice(8);\n      }\n      return bytes;\n    }\n    function unpackIEEE754(bytes, ebits, fbits) {\n      // Bytes to bits\n      var bits = [],\n        i,\n        j,\n        b,\n        str,\n        bias,\n        s,\n        e,\n        f;\n      for (i = bytes.length; i; i -= 1) {\n        b = bytes[i - 1];\n        for (j = 8; j; j -= 1) {\n          bits.push(b % 2 ? 1 : 0);\n          b = b >> 1;\n        }\n      }\n      bits.reverse();\n      str = bits.join('');\n\n      // Unpack sign, exponent, fraction\n      bias = (1 << ebits - 1) - 1;\n      s = parseInt(str.slice(0, 1), 2) ? -1 : 1;\n      e = parseInt(str.slice(1, 1 + ebits), 2);\n      f = parseInt(str.slice(1 + ebits), 2);\n\n      // Produce number\n      if (e === (1 << ebits) - 1) {\n        return f !== 0 ? NaN : s * Infinity;\n      } else if (e > 0) {\n        // Normalized\n        return s * Math.pow(2, e - bias) * (1 + f / Math.pow(2, fbits));\n      } else if (f !== 0) {\n        // Denormalized\n        return s * Math.pow(2, -(bias - 1)) * (f / Math.pow(2, fbits));\n      } else {\n        return s < 0 ? -0 : 0;\n      }\n    }\n    function unpackFloat64(b) {\n      return unpackIEEE754(b, 11, 52);\n    }\n    function packFloat64(v) {\n      return packIEEE754(v, 11, 52);\n    }\n    function unpackFloat32(b) {\n      return unpackIEEE754(b, 8, 23);\n    }\n    function packFloat32(v) {\n      return packIEEE754(v, 8, 23);\n    }\n    var conversions = {\n      toFloat32: function (num) {\n        return unpackFloat32(packFloat32(num));\n      }\n    };\n    if (typeof Float32Array !== 'undefined') {\n      var float32array = new Float32Array(1);\n      conversions.toFloat32 = function (num) {\n        float32array[0] = num;\n        return float32array[0];\n      };\n    }\n    return conversions;\n  }();\n  defineProperties(String, {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n        if (next < 0x10000) {\n          result.push(String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          result.push(String.fromCharCode((next >> 10) + 0xD800));\n          result.push(String.fromCharCode(next % 0x400 + 0xDC00));\n        }\n      }\n      return result.join('');\n    },\n    raw: function raw(callSite) {\n      var cooked = ES.ToObject(callSite, 'bad callSite');\n      var rawValue = cooked.raw;\n      var rawString = ES.ToObject(rawValue, 'bad raw value');\n      var len = rawString.length;\n      var literalsegments = ES.ToLength(len);\n      if (literalsegments <= 0) {\n        return '';\n      }\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalsegments) {\n        nextKey = String(nextIndex);\n        next = rawString[nextKey];\n        nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 >= literalsegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex++;\n      }\n      return stringElements.join('');\n    }\n  });\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = Function.apply.bind(String.fromCodePoint);\n    defineProperty(String, 'fromCodePoint', function fromCodePoint(codePoints) {\n      return originalFromCodePoint(this, arguments);\n    }, true);\n  }\n  var StringShims = {\n    // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n    // Perf: http://jsperf.com/string-repeat2/2\n    repeat: function () {\n      var repeat = function (s, times) {\n        if (times < 1) {\n          return '';\n        }\n        if (times % 2) {\n          return repeat(s, times - 1) + s;\n        }\n        var half = repeat(s, times / 2);\n        return half + half;\n      };\n      return function (times) {\n        var thisStr = String(ES.CheckObjectCoercible(this));\n        times = ES.ToInteger(times);\n        if (times < 0 || times === Infinity) {\n          throw new RangeError('Invalid String#repeat value');\n        }\n        return repeat(thisStr, times);\n      };\n    }(),\n    startsWith: function (searchStr) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var startArg = arguments.length > 1 ? arguments[1] : void 0;\n      var start = Math.max(ES.ToInteger(startArg), 0);\n      return thisStr.slice(start, start + searchStr.length) === searchStr;\n    },\n    endsWith: function (searchStr) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var thisLen = thisStr.length;\n      var posArg = arguments.length > 1 ? arguments[1] : void 0;\n      var pos = typeof posArg === 'undefined' ? thisLen : ES.ToInteger(posArg);\n      var end = Math.min(Math.max(pos, 0), thisLen);\n      return thisStr.slice(end - searchStr.length, end) === searchStr;\n    },\n    includes: function includes(searchString) {\n      var position = arguments.length > 1 ? arguments[1] : void 0;\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchString, position) !== -1;\n    },\n    codePointAt: function (pos) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = position + 1 === length;\n        if (first < 0xD800 || first > 0xDBFF || isEnd) {\n          return first;\n        }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) {\n          return first;\n        }\n        return (first - 0xD800) * 1024 + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  defineProperties(String.prototype, StringShims);\n  var hasStringTrimBug = '\\u0085'.trim().length !== 1;\n  if (hasStringTrimBug) {\n    delete String.prototype.trim;\n    // whitespace from: http://es5.github.io/#x15.5.4.20\n    // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n    var ws = ['\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003', '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028', '\\u2029\\uFEFF'].join('');\n    var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n    defineProperties(String.prototype, {\n      trim: function () {\n        if (typeof this === 'undefined' || this === null) {\n          throw new TypeError(\"can't convert \" + this + ' to object');\n        }\n        return String(this).replace(trimRegexp, '');\n      }\n    });\n  }\n\n  // see https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    this._s = String(ES.CheckObjectCoercible(s));\n    this._i = 0;\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s,\n      i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return {\n        value: void 0,\n        done: true\n      };\n    }\n    var first = s.charCodeAt(i),\n      second,\n      len;\n    if (first < 0xD800 || first > 0xDBFF || i + 1 === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = second < 0xDC00 || second > 0xDFFF ? 1 : 2;\n    }\n    this._i = i + len;\n    return {\n      value: s.substr(i, len),\n      done: false\n    };\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n  if (!startsWithIsCompliant) {\n    // Firefox has a noncompliant startsWith implementation\n    defineProperties(String.prototype, {\n      startsWith: StringShims.startsWith,\n      endsWith: StringShims.endsWith\n    });\n  }\n  var ArrayShims = {\n    from: function (iterable) {\n      var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n      var list = ES.ToObject(iterable, 'bad iterable');\n      if (typeof mapFn !== 'undefined' && !ES.IsCallable(mapFn)) {\n        throw new TypeError('Array.from: when provided, the second argument must be a function');\n      }\n      var hasThisArg = arguments.length > 2;\n      var thisArg = hasThisArg ? arguments[2] : void 0;\n      var usingIterator = ES.IsIterable(list);\n      // does the spec really mean that Arrays should use ArrayIterator?\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      //if (Array.isArray(list)) { usingIterator=false; }\n\n      var length;\n      var result, i, value;\n      if (usingIterator) {\n        i = 0;\n        result = ES.IsCallable(this) ? Object(new this()) : [];\n        var it = usingIterator ? ES.GetIterator(list) : null;\n        var iterationValue;\n        do {\n          iterationValue = ES.IteratorNext(it);\n          if (!iterationValue.done) {\n            value = iterationValue.value;\n            if (mapFn) {\n              result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n            } else {\n              result[i] = value;\n            }\n            i += 1;\n          }\n        } while (!iterationValue.done);\n        length = i;\n      } else {\n        length = ES.ToLength(list.length);\n        result = ES.IsCallable(this) ? Object(new this(length)) : new Array(length);\n        for (i = 0; i < length; ++i) {\n          value = list[i];\n          if (mapFn) {\n            result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n          } else {\n            result[i] = value;\n          }\n        }\n      }\n      result.length = length;\n      return result;\n    },\n    of: function () {\n      return Array.from(arguments);\n    }\n  };\n  defineProperties(Array, ArrayShims);\n  var arrayFromSwallowsNegativeLengths = function () {\n    try {\n      return Array.from({\n        length: -1\n      }).length === 0;\n    } catch (e) {\n      return false;\n    }\n  };\n  // Fixes a Firefox bug in v32\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n  if (!arrayFromSwallowsNegativeLengths()) {\n    defineProperty(Array, 'from', ArrayShims.from, true);\n  }\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n    this.i = 0;\n    this.array = array;\n    this.kind = kind;\n  };\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i,\n        array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return {\n            value: retval,\n            done: false\n          };\n        }\n      }\n      this.array = void 0;\n      return {\n        value: void 0,\n        done: true\n      };\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n  var ArrayPrototypeShims = {\n    copyWithin: function (target, start) {\n      var end = arguments[2]; // copyWithin.length must be 2\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      target = ES.ToInteger(target);\n      start = ES.ToInteger(start);\n      var to = target < 0 ? Math.max(len + target, 0) : Math.min(target, len);\n      var from = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      end = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var fin = end < 0 ? Math.max(len + end, 0) : Math.min(end, len);\n      var count = Math.min(fin - from, len - to);\n      var direction = 1;\n      if (from < to && to < from + count) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (_hasOwnProperty(o, from)) {\n          o[to] = o[from];\n        } else {\n          delete o[from];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n    fill: function (value) {\n      var start = arguments.length > 1 ? arguments[1] : void 0;\n      var end = arguments.length > 2 ? arguments[2] : void 0;\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n      var relativeStart = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (predicate.call(thisArg, value, i, list)) {\n            return value;\n          }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (predicate.call(thisArg, list[i], i, list)) {\n            return i;\n          }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    keys: function () {\n      return new ArrayIterator(this, 'key');\n    },\n    values: function () {\n      return new ArrayIterator(this, 'value');\n    },\n    entries: function () {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n  addIterator(Array.prototype, function () {\n    return this.values();\n  });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    addIterator(Object.getPrototypeOf([].values()));\n  }\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n    isFinite: function (value) {\n      return typeof value === 'number' && global_isFinite(value);\n    },\n    isInteger: function (value) {\n      return Number.isFinite(value) && ES.ToInteger(value) === value;\n    },\n    isSafeInteger: function (value) {\n      return Number.isInteger(value) && Math.abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n    isNaN: function (value) {\n      // NaN !== NaN, but they are identical.\n      // NaNs are the only non-reflexive value, i.e., if x !== x,\n      // then x is NaN.\n      // isNaN is broken: it converts its argument to number, so\n      // isNaN('foo') => true\n      return value !== value;\n    }\n  });\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  if (![, 1].find(function (item, idx) {\n    return idx === 0;\n  })) {\n    defineProperty(Array.prototype, 'find', ArrayPrototypeShims.find, true);\n  }\n  if ([, 1].findIndex(function (item, idx) {\n    return idx === 0;\n  }) !== 0) {\n    defineProperty(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex, true);\n  }\n  if (supportsDescriptors) {\n    defineProperties(Object, {\n      // 19.1.3.1\n      assign: function (target, source) {\n        if (!ES.TypeIsObject(target)) {\n          throw new TypeError('target must be an object');\n        }\n        return Array.prototype.reduce.call(arguments, function (target, source) {\n          return Object.keys(Object(source)).reduce(function (target, key) {\n            target[key] = source[key];\n            return target;\n          }, target);\n        });\n      },\n      is: function (a, b) {\n        return ES.SameValue(a, b);\n      },\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: function (Object, magic) {\n        var set;\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          set.call(O, proto);\n          return O;\n        };\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n          set.call({}, null);\n        } catch (e) {\n          if (Object.prototype !== {}[magic]) {\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this[magic] = proto;\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(setPrototypeOf({}, null), Object.prototype) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object, '__proto__')\n    });\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf && Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null && Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf,\n        spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        if (p === null) {\n          p = FAKENULL;\n        }\n        return spo(o, p);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    })();\n  }\n  try {\n    Object.keys('foo');\n  } catch (e) {\n    var originalObjectKeys = Object.keys;\n    Object.keys = function (obj) {\n      return originalObjectKeys(ES.ToObject(obj));\n    };\n  }\n  if (!RegExp.prototype.flags && supportsDescriptors) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n  var regExpSupportsFlagsWithRegex = function () {\n    try {\n      return String(new RegExp(/a/g, 'i')) === '/a/i';\n    } catch (e) {\n      return false;\n    }\n  }();\n  if (!regExpSupportsFlagsWithRegex && supportsDescriptors) {\n    var OrigRegExp = RegExp;\n    var RegExpShim = function RegExp(pattern, flags) {\n      if (Type.regex(pattern) && Type.string(flags)) {\n        return new RegExp(pattern.source, flags);\n      }\n      return new OrigRegExp(pattern, flags);\n    };\n    defineProperty(RegExpShim, 'toString', OrigRegExp.toString.bind(OrigRegExp), true);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(OrigRegExp, RegExpShim);\n    }\n    Object.getOwnPropertyNames(OrigRegExp).forEach(function (key) {\n      if (key === '$input') {\n        return;\n      } // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n      if (key in noop) {\n        return;\n      }\n      Value.proxy(OrigRegExp, key, RegExpShim);\n    });\n    RegExpShim.prototype = OrigRegExp.prototype;\n    Value.redefine(OrigRegExp.prototype, 'constructor', RegExpShim);\n    /*globals RegExp: true */\n    RegExp = RegExpShim;\n    Value.redefine(globals, 'RegExp', RegExpShim);\n    /*globals RegExp: false */\n  }\n  var MathShims = {\n    acosh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value < 1) {\n        return NaN;\n      }\n      if (value === 1) {\n        return 0;\n      }\n      if (value === Infinity) {\n        return value;\n      }\n      return Math.log(value + Math.sqrt(value * value - 1));\n    },\n    asinh: function (value) {\n      value = Number(value);\n      if (value === 0 || !global_isFinite(value)) {\n        return value;\n      }\n      return value < 0 ? -Math.asinh(-value) : Math.log(value + Math.sqrt(value * value + 1));\n    },\n    atanh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value < -1 || value > 1) {\n        return NaN;\n      }\n      if (value === -1) {\n        return -Infinity;\n      }\n      if (value === 1) {\n        return Infinity;\n      }\n      if (value === 0) {\n        return value;\n      }\n      return 0.5 * Math.log((1 + value) / (1 - value));\n    },\n    cbrt: function (value) {\n      value = Number(value);\n      if (value === 0) {\n        return value;\n      }\n      var negate = value < 0,\n        result;\n      if (negate) {\n        value = -value;\n      }\n      result = Math.pow(value, 1 / 3);\n      return negate ? -result : result;\n    },\n    clz32: function (value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      value = Number(value);\n      var number = ES.ToUint32(value);\n      if (number === 0) {\n        return 32;\n      }\n      return 32 - number.toString(2).length;\n    },\n    cosh: function (value) {\n      value = Number(value);\n      if (value === 0) {\n        return 1;\n      } // +0 or -0\n      if (Number.isNaN(value)) {\n        return NaN;\n      }\n      if (!global_isFinite(value)) {\n        return Infinity;\n      }\n      if (value < 0) {\n        value = -value;\n      }\n      if (value > 21) {\n        return Math.exp(value) / 2;\n      }\n      return (Math.exp(value) + Math.exp(-value)) / 2;\n    },\n    expm1: function (value) {\n      value = Number(value);\n      if (value === -Infinity) {\n        return -1;\n      }\n      if (!global_isFinite(value) || value === 0) {\n        return value;\n      }\n      return Math.exp(value) - 1;\n    },\n    hypot: function (x, y) {\n      var anyNaN = false;\n      var allZero = true;\n      var anyInfinity = false;\n      var numbers = [];\n      Array.prototype.every.call(arguments, function (arg) {\n        var num = Number(arg);\n        if (Number.isNaN(num)) {\n          anyNaN = true;\n        } else if (num === Infinity || num === -Infinity) {\n          anyInfinity = true;\n        } else if (num !== 0) {\n          allZero = false;\n        }\n        if (anyInfinity) {\n          return false;\n        } else if (!anyNaN) {\n          numbers.push(Math.abs(num));\n        }\n        return true;\n      });\n      if (anyInfinity) {\n        return Infinity;\n      }\n      if (anyNaN) {\n        return NaN;\n      }\n      if (allZero) {\n        return 0;\n      }\n      numbers.sort(function (a, b) {\n        return b - a;\n      });\n      var largest = numbers[0];\n      var divided = numbers.map(function (number) {\n        return number / largest;\n      });\n      var sum = divided.reduce(function (sum, number) {\n        return sum + number * number;\n      }, 0);\n      return largest * Math.sqrt(sum);\n    },\n    log2: function (value) {\n      return Math.log(value) * Math.LOG2E;\n    },\n    log10: function (value) {\n      return Math.log(value) * Math.LOG10E;\n    },\n    log1p: function (value) {\n      value = Number(value);\n      if (value < -1 || Number.isNaN(value)) {\n        return NaN;\n      }\n      if (value === 0 || value === Infinity) {\n        return value;\n      }\n      if (value === -1) {\n        return -Infinity;\n      }\n      var result = 0;\n      var n = 50;\n      if (value < 0 || value > 1) {\n        return Math.log(1 + value);\n      }\n      for (var i = 1; i < n; i++) {\n        if (i % 2 === 0) {\n          result -= Math.pow(value, i) / i;\n        } else {\n          result += Math.pow(value, i) / i;\n        }\n      }\n      return result;\n    },\n    sign: function (value) {\n      var number = +value;\n      if (number === 0) {\n        return number;\n      }\n      if (Number.isNaN(number)) {\n        return number;\n      }\n      return number < 0 ? -1 : 1;\n    },\n    sinh: function (value) {\n      value = Number(value);\n      if (!global_isFinite(value) || value === 0) {\n        return value;\n      }\n      return (Math.exp(value) - Math.exp(-value)) / 2;\n    },\n    tanh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value === 0) {\n        return value;\n      }\n      if (value === Infinity) {\n        return 1;\n      }\n      if (value === -Infinity) {\n        return -1;\n      }\n      return (Math.exp(value) - Math.exp(-value)) / (Math.exp(value) + Math.exp(-value));\n    },\n    trunc: function (value) {\n      var number = Number(value);\n      return number < 0 ? -Math.floor(-number) : Math.floor(number);\n    },\n    imul: function (x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      x = ES.ToUint32(x);\n      y = ES.ToUint32(y);\n      var ah = x >>> 16 & 0xffff;\n      var al = x & 0xffff;\n      var bh = y >>> 16 & 0xffff;\n      var bl = y & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return al * bl + (ah * bl + al * bh << 16 >>> 0) | 0;\n    },\n    fround: function (x) {\n      if (x === 0 || x === Infinity || x === -Infinity || Number.isNaN(x)) {\n        return x;\n      }\n      var num = Number(x);\n      return numberConversion.toFloat32(num);\n    }\n  };\n  defineProperties(Math, MathShims);\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = function () {\n    var Promise, Promise$prototype;\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (!promise._promiseConstructor) {\n        // _promiseConstructor is a bit more unique than _status, so we'll\n        // check that instead of the [[PromiseStatus]] internal field.\n        return false;\n      }\n      if (typeof promise._status === 'undefined') {\n        return false; // uninitialized\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsCallable(C)) {\n        throw new TypeError('bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      capability.promise = ES.Construct(C, [resolver]);\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2478\n      if (!capability.promise._es6construct) {\n        throw new TypeError('bad promise constructor');\n      }\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var setTimeout = globals.setTimeout;\n    var makeZeroTimeout;\n    /*global window */\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          timeouts.push(fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) {\n              return;\n            }\n            var fn = timeouts.shift();\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      return P && P.resolve && function (task) {\n        return P.resolve().then(task);\n      };\n    };\n    /*global process */\n    var enqueue = ES.IsCallable(globals.setImmediate) ? globals.setImmediate.bind(globals) : typeof process === 'object' && process.nextTick ? process.nextTick : makePromiseAsap() || (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() : function (task) {\n      setTimeout(task, 0);\n    }); // fallback\n\n    var updatePromiseFromPotentialThenable = function (x, capability) {\n      if (!ES.TypeIsObject(x)) {\n        return false;\n      }\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      try {\n        var then = x.then; // only one invocation of accessor\n        if (!ES.IsCallable(then)) {\n          return false;\n        }\n        then.call(x, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return true;\n    };\n    var triggerPromiseReactions = function (reactions, x) {\n      reactions.forEach(function (reaction) {\n        enqueue(function () {\n          // PromiseReactionTask\n          var handler = reaction.handler;\n          var capability = reaction.capability;\n          var resolve = capability.resolve;\n          var reject = capability.reject;\n          try {\n            var result = handler(x);\n            if (result === capability.promise) {\n              throw new TypeError('self resolution');\n            }\n            var updateResult = updatePromiseFromPotentialThenable(result, capability);\n            if (!updateResult) {\n              resolve(result);\n            }\n          } catch (e) {\n            reject(e);\n          }\n        });\n      });\n    };\n    var promiseResolutionHandler = function (promise, onFulfilled, onRejected) {\n      return function (x) {\n        if (x === promise) {\n          return onRejected(new TypeError('self resolution'));\n        }\n        var C = promise._promiseConstructor;\n        var capability = new PromiseCapability(C);\n        var updateResult = updatePromiseFromPotentialThenable(x, capability);\n        if (updateResult) {\n          return capability.promise.then(onFulfilled, onRejected);\n        } else {\n          return onFulfilled(x);\n        }\n      };\n    };\n    Promise = function (resolver) {\n      var promise = this;\n      promise = emulateES6construct(promise);\n      if (!promise._promiseConstructor) {\n        // we use _promiseConstructor as a stand-in for the internal\n        // [[PromiseStatus]] field; it's a little more unique.\n        throw new TypeError('bad promise');\n      }\n      if (typeof promise._status !== 'undefined') {\n        throw new TypeError('promise already initialized');\n      }\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n      if (!ES.IsCallable(resolver)) {\n        throw new TypeError('not a valid resolver');\n      }\n      promise._status = 'unresolved';\n      promise._resolveReactions = [];\n      promise._rejectReactions = [];\n      var resolve = function (resolution) {\n        if (promise._status !== 'unresolved') {\n          return;\n        }\n        var reactions = promise._resolveReactions;\n        promise._result = resolution;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-resolution';\n        triggerPromiseReactions(reactions, resolution);\n      };\n      var reject = function (reason) {\n        if (promise._status !== 'unresolved') {\n          return;\n        }\n        var reactions = promise._rejectReactions;\n        promise._result = reason;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-rejection';\n        triggerPromiseReactions(reactions, reason);\n      };\n      try {\n        resolver(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return promise;\n    };\n    Promise$prototype = Promise.prototype;\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var done = false;\n      return function (x) {\n        if (done) {\n          return;\n        } // protect against being called multiple times\n        done = true;\n        values[index] = x;\n        if (--remaining.count === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n    defineProperties(Promise, {\n      '@@create': function (obj) {\n        var constructor = this;\n        // AllocatePromise\n        // The `obj` parameter is a hack we use for es5\n        // compatibility.\n        var prototype = constructor.prototype || Promise$prototype;\n        obj = obj || create(prototype);\n        defineProperties(obj, {\n          _status: void 0,\n          _result: void 0,\n          _resolveReactions: void 0,\n          _rejectReactions: void 0,\n          _promiseConstructor: void 0\n        });\n        obj._promiseConstructor = constructor;\n        return obj;\n      },\n      all: function all(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          var values = [],\n            remaining = {\n              count: 1\n            };\n          for (var index = 0;; index++) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            var resolveElement = _promiseAllResolver(index, values, capability, remaining);\n            remaining.count++;\n            nextPromise.then(resolveElement, capability.reject);\n          }\n          if (--remaining.count === 0) {\n            resolve(values); // call w/ this===undefined\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n      race: function race(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          while (true) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              // If iterable has no items, resulting promise will never\n              // resolve; see:\n              // https://github.com/domenic/promises-unwrapping/issues/75\n              // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            nextPromise.then(resolve, reject);\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n      reject: function reject(reason) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var rejectPromise = capability.reject;\n        rejectPromise(reason); // call with this===undefined\n        return capability.promise;\n      },\n      resolve: function resolve(v) {\n        var C = this;\n        if (ES.IsPromise(v)) {\n          var constructor = v._promiseConstructor;\n          if (constructor === C) {\n            return v;\n          }\n        }\n        var capability = new PromiseCapability(C);\n        var resolvePromise = capability.resolve;\n        resolvePromise(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(void 0, onRejected);\n      },\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) {\n          throw new TypeError('not a promise');\n        }\n        // this.constructor not this._promiseConstructor; see\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2513\n        var C = this.constructor;\n        var capability = new PromiseCapability(C);\n        if (!ES.IsCallable(onRejected)) {\n          onRejected = function (e) {\n            throw e;\n          };\n        }\n        if (!ES.IsCallable(onFulfilled)) {\n          onFulfilled = function (x) {\n            return x;\n          };\n        }\n        var resolutionHandler = promiseResolutionHandler(promise, onFulfilled, onRejected);\n        var resolveReaction = {\n          capability: capability,\n          handler: resolutionHandler\n        };\n        var rejectReaction = {\n          capability: capability,\n          handler: onRejected\n        };\n        switch (promise._status) {\n          case 'unresolved':\n            promise._resolveReactions.push(resolveReaction);\n            promise._rejectReactions.push(rejectReaction);\n            break;\n          case 'has-resolution':\n            triggerPromiseReactions([resolveReaction], promise._result);\n            break;\n          case 'has-rejection':\n            triggerPromiseReactions([rejectReaction], promise._result);\n            break;\n          default:\n            throw new TypeError('unexpected');\n        }\n        return capability.promise;\n      }\n    });\n    return Promise;\n  }();\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  // export the Promise constructor.\n  defineProperties(globals, {\n    Promise: PromiseShim\n  });\n  // In Chrome 33 (and thereabouts) Promise is defined, but the\n  // implementation is buggy in a number of ways.  Let's check subclassing\n  // support to see if we have a buggy implementation.\n  var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n    return S.resolve(42) instanceof S;\n  });\n  var promiseIgnoresNonFunctionThenCallbacks = function () {\n    try {\n      globals.Promise.reject(42).then(null, 5).then(null, noop);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }();\n  var promiseRequiresObjectContext = function () {\n    /*global Promise */\n    try {\n      Promise.call(3, noop);\n    } catch (e) {\n      return true;\n    }\n    return false;\n  }();\n  if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks || !promiseRequiresObjectContext) {\n    /*globals Promise: true */\n    Promise = PromiseShim;\n    /*globals Promise: false */\n    defineProperty(globals, 'Promise', PromiseShim, true);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = Object.keys(a.reduce(function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n  if (supportsDescriptors) {\n    var fastkey = function fastkey(key) {\n      if (!preservesInsertionOrder) {\n        return null;\n      }\n      var type = typeof key;\n      if (type === 'string') {\n        return '$' + key;\n      } else if (type === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      }\n      return null;\n    };\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n    var collectionShims = {\n      Map: function () {\n        var empty = {};\n        function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        }\n        MapEntry.prototype.isRemoved = function () {\n          return this.key === empty;\n        };\n        function MapIterator(map, kind) {\n          this.head = map._head;\n          this.i = this.head;\n          this.kind = kind;\n        }\n        MapIterator.prototype = {\n          next: function () {\n            var i = this.i,\n              kind = this.kind,\n              head = this.head,\n              result;\n            if (typeof this.i === 'undefined') {\n              return {\n                value: void 0,\n                done: true\n              };\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return {\n                  value: result,\n                  done: false\n                };\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return {\n              value: void 0,\n              done: true\n            };\n          }\n        };\n        addIterator(MapIterator.prototype);\n        function Map(iterable) {\n          var map = this;\n          if (!ES.TypeIsObject(map)) {\n            throw new TypeError('Map does not accept arguments when called as a function');\n          }\n          map = emulateES6construct(map);\n          if (!map._es6map) {\n            throw new TypeError('bad map');\n          }\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          head.next = head.prev = head;\n          defineProperties(map, {\n            _head: head,\n            _storage: emptyObject(),\n            _size: 0\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = map.set;\n            if (!ES.IsCallable(adder)) {\n              throw new TypeError('bad map');\n            }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) {\n                break;\n              }\n              var nextItem = next.value;\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('expected iterable of pairs');\n              }\n              adder.call(map, nextItem[0], nextItem[1]);\n            }\n          }\n          return map;\n        }\n        var Map$prototype = Map.prototype;\n        defineProperties(Map, {\n          '@@create': function (obj) {\n            var constructor = this;\n            var prototype = constructor.prototype || Map$prototype;\n            obj = obj || create(prototype);\n            defineProperties(obj, {\n              _es6map: true\n            });\n            return obj;\n          }\n        });\n        Value.getter(Map.prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n        defineProperties(Map.prototype, {\n          get: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              var entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            var head = this._head,\n              i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n          has: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            var head = this._head,\n              i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n          set: function (key, value) {\n            var head = this._head,\n              i = head,\n              entry;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              } else {\n                entry = this._storage[fkey] = new MapEntry(key, value);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n          'delete': function (key) {\n            var head = this._head,\n              i = head;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n          clear: function () {\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head,\n              i = head,\n              p = i.next;\n            while ((i = p) !== head) {\n              i.key = i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n          keys: function () {\n            return new MapIterator(this, 'key');\n          },\n          values: function () {\n            return new MapIterator(this, 'value');\n          },\n          entries: function () {\n            return new MapIterator(this, 'key+value');\n          },\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                callback.call(context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map.prototype, function () {\n          return this.entries();\n        });\n        return Map;\n      }(),\n      Set: function () {\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var SetShim = function Set(iterable) {\n          var set = this;\n          if (!ES.TypeIsObject(set)) {\n            throw new TypeError('Set does not accept arguments when called as a function');\n          }\n          set = emulateES6construct(set);\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n          defineProperties(set, {\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = set.add;\n            if (!ES.IsCallable(adder)) {\n              throw new TypeError('bad set');\n            }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) {\n                break;\n              }\n              var nextItem = next.value;\n              adder.call(set, nextItem);\n            }\n          }\n          return set;\n        };\n        var Set$prototype = SetShim.prototype;\n        defineProperties(SetShim, {\n          '@@create': function (obj) {\n            var constructor = this;\n            var prototype = constructor.prototype || Set$prototype;\n            obj = obj || create(prototype);\n            defineProperties(obj, {\n              _es6set: true\n            });\n            return obj;\n          }\n        });\n\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = set['[[SetData]]'] = new collectionShims.Map();\n            Object.keys(set._storage).forEach(function (k) {\n              // fast check for leading '$'\n              if (k.charCodeAt(0) === 36) {\n                k = k.slice(1);\n              } else if (k.charAt(0) === 'n') {\n                k = +k.slice(1);\n              } else {\n                k = +k;\n              }\n              m.set(k, k);\n            });\n            set._storage = null; // free old backing storage\n          }\n        };\n        Value.getter(SetShim.prototype, 'size', function () {\n          if (typeof this._storage === 'undefined') {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('size method called on incompatible Set');\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n        defineProperties(SetShim.prototype, {\n          has: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n          add: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n          'delete': function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return delete this._storage[fkey] && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n          clear: function () {\n            if (this._storage) {\n              this._storage = emptyObject();\n            } else {\n              this['[[SetData]]'].clear();\n            }\n          },\n          values: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].values();\n          },\n          entries: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].entries();\n          },\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                callback.call(context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim, 'keys', SetShim.values, true);\n        addIterator(SetShim.prototype, function () {\n          return this.values();\n        });\n        return SetShim;\n      }()\n    };\n    defineProperties(globals, collectionShims);\n    if (globals.Map || globals.Set) {\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (typeof globals.Map.prototype.clear !== 'function' || new globals.Set().size !== 0 || new globals.Map().size !== 0 || typeof globals.Map.prototype.keys !== 'function' || typeof globals.Set.prototype.keys !== 'function' || typeof globals.Map.prototype.forEach !== 'function' || typeof globals.Set.prototype.forEach !== 'function' || isCallableWithoutNew(globals.Map) || isCallableWithoutNew(globals.Set) || !supportsSubclassing(globals.Map, function (M) {\n        var m = new M([]);\n        // Firefox 32 is ok with the instantiating the subclass but will\n        // throw when the map is used.\n        m.set(42, 42);\n        return m instanceof M;\n      })) {\n        globals.Map = collectionShims.Map;\n        globals.Set = collectionShims.Set;\n      }\n    }\n    if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n      defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n    }\n    // Shim incomplete iterator implementations.\n    addIterator(Object.getPrototypeOf(new globals.Map().keys()));\n    addIterator(Object.getPrototypeOf(new globals.Set().keys()));\n  }\n  return globals;\n});","map":{"version":3,"names":["root","factory","define","amd","exports","module","returnExports","isCallableWithoutNew","func","e","supportsSubclassing","C","f","Sub","apply","arguments","__proto__","Object","setPrototypeOf","prototype","create","constructor","value","arePropertyDescriptorsSupported","defineProperty","startsWithRejectsRegex","rejectsRegex","String","startsWith","getGlobal","Function","globals","global_isFinite","isFinite","supportsDescriptors","startsWithIsCompliant","_indexOf","call","bind","indexOf","_toString","toString","_hasOwnProperty","hasOwnProperty","ArrayIterator","noop","Symbol","Type","string","x","regex","symbol","object","name","force","configurable","enumerable","writable","Value","getter","TypeError","get","proxy","originalObject","key","targetObject","originalDescriptor","getOwnPropertyDescriptor","getKey","set","setKey","redefine","property","newValue","descriptor","defineProperties","map","keys","forEach","method","properties","Prototype","$iterator$","iterator","Set","addIterator","impl","o","isArguments","str","result","length","callee","ES","CheckObjectCoercible","optMessage","TypeIsObject","ToObject","IsCallable","ToInt32","ToNumber","ToUint32","ToInteger","number","Number","isNaN","Math","floor","abs","ToLength","len","MAX_SAFE_INTEGER","SameValue","a","b","SameValueZero","IsIterable","GetIterator","itFn","it","IteratorNext","next","Construct","args","obj","_es6construct","emulateES6construct","numberConversion","roundToEven","n","w","packIEEE754","v","ebits","fbits","bias","s","i","bits","bytes","pow","Infinity","min","log","LN2","push","reverse","join","parseInt","slice","unpackIEEE754","j","NaN","unpackFloat64","packFloat64","unpackFloat32","packFloat32","conversions","toFloat32","num","Float32Array","float32array","fromCodePoint","codePoints","RangeError","fromCharCode","raw","callSite","cooked","rawValue","rawString","literalsegments","stringElements","nextIndex","nextKey","nextSeg","nextSub","originalFromCodePoint","StringShims","repeat","times","half","thisStr","searchStr","startArg","start","max","endsWith","thisLen","posArg","pos","end","includes","searchString","position","codePointAt","first","charCodeAt","isEnd","second","hasStringTrimBug","trim","ws","trimRegexp","RegExp","replace","StringIterator","_s","_i","done","substr","ArrayShims","from","iterable","mapFn","list","hasThisArg","thisArg","usingIterator","iterationValue","Array","of","arrayFromSwallowsNegativeLengths","array","kind","retval","ArrayPrototypeShims","copyWithin","target","to","fin","count","direction","fill","O","relativeStart","relativeEnd","find","predicate","findIndex","values","entries","unscopables","getPrototypeOf","maxSafeInteger","MIN_SAFE_INTEGER","EPSILON","parseFloat","isInteger","isSafeInteger","item","idx","assign","source","reduce","is","magic","checkArgs","proto","polyfill","FAKENULL","gpo","spo","p","originalObjectKeys","flags","regExpFlagsGetter","global","ignoreCase","multiline","unicode","sticky","regExpSupportsFlagsWithRegex","OrigRegExp","RegExpShim","pattern","getOwnPropertyNames","MathShims","acosh","sqrt","asinh","atanh","cbrt","negate","clz32","cosh","exp","expm1","hypot","y","anyNaN","allZero","anyInfinity","numbers","every","arg","sort","largest","divided","sum","log2","LOG2E","log10","LOG10E","log1p","sign","sinh","tanh","trunc","imul","ah","al","bh","bl","fround","PromiseShim","Promise","Promise$prototype","IsPromise","promise","_promiseConstructor","_status","PromiseCapability","capability","resolver","resolve","reject","setTimeout","makeZeroTimeout","window","postMessage","timeouts","messageName","setZeroTimeout","fn","handleMessage","event","data","stopPropagation","shift","addEventListener","makePromiseAsap","P","task","then","enqueue","setImmediate","process","nextTick","updatePromiseFromPotentialThenable","triggerPromiseReactions","reactions","reaction","handler","updateResult","promiseResolutionHandler","onFulfilled","onRejected","_resolveReactions","_rejectReactions","resolution","_result","reason","_promiseAllResolver","index","remaining","@@create","all","nextPromise","resolveElement","race","rejectPromise","resolvePromise","catch","resolutionHandler","resolveReaction","rejectReaction","accept","defer","chain","promiseSupportsSubclassing","S","promiseIgnoresNonFunctionThenCallbacks","ex","promiseRequiresObjectContext","testOrder","k","preservesInsertionOrder","preservesNumericInsertionOrder","fastkey","type","emptyObject","collectionShims","Map","empty","MapEntry","prev","isRemoved","MapIterator","head","_head","_es6map","_storage","_size","adder","nextItem","Map$prototype","fkey","entry","has","delete","clear","callback","context","SetShim","_es6set","add","Set$prototype","ensureMap","m","charAt","size","hasFKey","entireSet","M"],"sources":["/var/home/dadmin/hackapp/node_modules/es6-shim/es6-shim.js"],"sourcesContent":[" /*!\n  * https://github.com/paulmillr/es6-shim\n  * @license es6-shim Copyright 2013-2014 by Paul Miller (http://paulmillr.com)\n  *   and contributors,  MIT License\n  * es6-shim: v0.22.2\n  * see https://github.com/paulmillr/es6-shim/blob/0.22.2/LICENSE\n  * Details and documentation:\n  * https://github.com/paulmillr/es6-shim/\n  */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define, module, exports */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function () {\n  'use strict';\n\n  var isCallableWithoutNew = function (func) {\n    try {\n      func();\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  var supportsSubclassing = function (C, f) {\n    /* jshint proto:true */\n    try {\n      var Sub = function () { C.apply(this, arguments); };\n      if (!Sub.__proto__) { return false; /* skip test on IE < 11 */ }\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = Object.create(C.prototype, {\n        constructor: { value: C }\n      });\n      return f(Sub);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var arePropertyDescriptorsSupported = function () {\n    try {\n      Object.defineProperty({}, 'x', {});\n      return true;\n    } catch (e) { /* this is IE 8. */\n      return false;\n    }\n  };\n\n  var startsWithRejectsRegex = function () {\n    var rejectsRegex = false;\n    if (String.prototype.startsWith) {\n      try {\n        '/a/'.startsWith(/a/);\n      } catch (e) { /* this is spec compliant */\n        rejectsRegex = true;\n      }\n    }\n    return rejectsRegex;\n  };\n\n  /*jshint evil: true */\n  var getGlobal = new Function('return this;');\n  /*jshint evil: false */\n\n  var globals = getGlobal();\n  var global_isFinite = globals.isFinite;\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var startsWithIsCompliant = startsWithRejectsRegex();\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n\n  var Symbol = globals.Symbol || {};\n  var Type = {\n    string: function (x) { return _toString(x) === '[object String]'; },\n    regex: function (x) { return _toString(x) === '[object RegExp]'; },\n    symbol: function (x) {\n      /*jshint notypeof: true */\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n      /*jshint notypeof: false */\n    }\n  };\n\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) { return; }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() { return originalObject[key]; },\n        set: function setKey(value) { originalObject[key] = value; }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they donâ€™t exist.\n  var defineProperties = function (object, map) {\n    Object.keys(map).forEach(function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, false);\n    });\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    function Prototype() {}\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      defineProperties(object, properties);\n    }\n    return object;\n  };\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n  var addIterator = function (prototype, impl) {\n    if (!impl) { impl = function iterator() { return this; }; }\n    var o = {};\n    o[$iterator$] = impl;\n    defineProperties(prototype, o);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = impl;\n    }\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isArguments = function isArguments(value) {\n    var str = _toString(value);\n    var result = str === '[object Arguments]';\n    if (!result) {\n      result = str !== '[object Array]' &&\n        value !== null &&\n        typeof value === 'object' &&\n        typeof value.length === 'number' &&\n        value.length >= 0 &&\n        _toString(value.callee) === '[object Function]';\n    }\n    return result;\n  };\n\n  var ES = {\n    CheckObjectCoercible: function (x, optMessage) {\n      /* jshint eqnull:true */\n      if (x == null) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n\n    TypeIsObject: function (x) {\n      /* jshint eqnull:true */\n      // this is expensive when it returns false; use this function\n      // when you expect it to return true in the common case.\n      return x != null && Object(x) === x;\n    },\n\n    ToObject: function (o, optMessage) {\n      return Object(ES.CheckObjectCoercible(o, optMessage));\n    },\n\n    IsCallable: function (x) {\n      // some versions of IE say that typeof /abc/ === 'function'\n      return typeof x === 'function' && _toString(x) === '[object Function]';\n    },\n\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n\n    ToNumber: function (value) {\n      if (_toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (Number.isNaN(number)) { return 0; }\n      if (number === 0 || !Number.isFinite(number)) { return number; }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    },\n\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) { return 0; } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n      return len;\n    },\n\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) { return 1 / a === 1 / b; }\n        return true;\n      }\n      return Number.isNaN(a) && Number.isNaN(b);\n    },\n\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return (a === b) || (Number.isNaN(a) && Number.isNaN(b));\n    },\n\n    IsIterable: function (o) {\n      return ES.TypeIsObject(o) && (typeof o[$iterator$] !== 'undefined' || isArguments(o));\n    },\n\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = o[$iterator$];\n      if (!ES.IsCallable(itFn)) {\n        throw new TypeError('value is not an iterable');\n      }\n      var it = itFn.call(o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n\n    Construct: function (C, args) {\n      // CreateFromConstructor\n      var obj;\n      if (ES.IsCallable(C['@@create'])) {\n        obj = C['@@create']();\n      } else {\n        // OrdinaryCreateFromConstructor\n        obj = create(C.prototype || null);\n      }\n      // Mark that we've used the es6 construct path\n      // (see emulateES6construct)\n      defineProperties(obj, { _es6construct: true });\n      // Call the constructor.\n      var result = C.apply(obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    }\n  };\n\n  var emulateES6construct = function (o) {\n    if (!ES.TypeIsObject(o)) { throw new TypeError('bad object'); }\n    // es5 approximation to es6 subclass semantics: in es6, 'new Foo'\n    // would invoke Foo.@@create to allocation/initialize the new object.\n    // In es5 we just get the plain object.  So if we detect an\n    // uninitialized object, invoke o.constructor.@@create\n    if (!o._es6construct) {\n      if (o.constructor && ES.IsCallable(o.constructor['@@create'])) {\n        o = o.constructor['@@create'](o);\n      }\n      defineProperties(o, { _es6construct: true });\n    }\n    return o;\n  };\n\n\n  var numberConversion = (function () {\n    // from https://github.com/inexorabletash/polyfill/blob/master/typedarray.js#L176-L266\n    // with permission and license, per https://twitter.com/inexorabletash/status/372206509540659200\n\n    function roundToEven(n) {\n      var w = Math.floor(n), f = n - w;\n      if (f < 0.5) {\n        return w;\n      }\n      if (f > 0.5) {\n        return w + 1;\n      }\n      return w % 2 ? w + 1 : w;\n    }\n\n    function packIEEE754(v, ebits, fbits) {\n      var bias = (1 << (ebits - 1)) - 1,\n        s, e, f,\n        i, bits, str, bytes;\n\n      // Compute sign, exponent, fraction\n      if (v !== v) {\n        // NaN\n        // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n        e = (1 << ebits) - 1;\n        f = Math.pow(2, fbits - 1);\n        s = 0;\n      } else if (v === Infinity || v === -Infinity) {\n        e = (1 << ebits) - 1;\n        f = 0;\n        s = (v < 0) ? 1 : 0;\n      } else if (v === 0) {\n        e = 0;\n        f = 0;\n        s = (1 / v === -Infinity) ? 1 : 0;\n      } else {\n        s = v < 0;\n        v = Math.abs(v);\n\n        if (v >= Math.pow(2, 1 - bias)) {\n          e = Math.min(Math.floor(Math.log(v) / Math.LN2), 1023);\n          f = roundToEven(v / Math.pow(2, e) * Math.pow(2, fbits));\n          if (f / Math.pow(2, fbits) >= 2) {\n            e = e + 1;\n            f = 1;\n          }\n          if (e > bias) {\n            // Overflow\n            e = (1 << ebits) - 1;\n            f = 0;\n          } else {\n            // Normal\n            e = e + bias;\n            f = f - Math.pow(2, fbits);\n          }\n        } else {\n          // Subnormal\n          e = 0;\n          f = roundToEven(v / Math.pow(2, 1 - bias - fbits));\n        }\n      }\n\n      // Pack sign, exponent, fraction\n      bits = [];\n      for (i = fbits; i; i -= 1) {\n        bits.push(f % 2 ? 1 : 0);\n        f = Math.floor(f / 2);\n      }\n      for (i = ebits; i; i -= 1) {\n        bits.push(e % 2 ? 1 : 0);\n        e = Math.floor(e / 2);\n      }\n      bits.push(s ? 1 : 0);\n      bits.reverse();\n      str = bits.join('');\n\n      // Bits to bytes\n      bytes = [];\n      while (str.length) {\n        bytes.push(parseInt(str.slice(0, 8), 2));\n        str = str.slice(8);\n      }\n      return bytes;\n    }\n\n    function unpackIEEE754(bytes, ebits, fbits) {\n      // Bytes to bits\n      var bits = [], i, j, b, str,\n          bias, s, e, f;\n\n      for (i = bytes.length; i; i -= 1) {\n        b = bytes[i - 1];\n        for (j = 8; j; j -= 1) {\n          bits.push(b % 2 ? 1 : 0);\n          b = b >> 1;\n        }\n      }\n      bits.reverse();\n      str = bits.join('');\n\n      // Unpack sign, exponent, fraction\n      bias = (1 << (ebits - 1)) - 1;\n      s = parseInt(str.slice(0, 1), 2) ? -1 : 1;\n      e = parseInt(str.slice(1, 1 + ebits), 2);\n      f = parseInt(str.slice(1 + ebits), 2);\n\n      // Produce number\n      if (e === (1 << ebits) - 1) {\n        return f !== 0 ? NaN : s * Infinity;\n      } else if (e > 0) {\n        // Normalized\n        return s * Math.pow(2, e - bias) * (1 + f / Math.pow(2, fbits));\n      } else if (f !== 0) {\n        // Denormalized\n        return s * Math.pow(2, -(bias - 1)) * (f / Math.pow(2, fbits));\n      } else {\n        return s < 0 ? -0 : 0;\n      }\n    }\n\n    function unpackFloat64(b) { return unpackIEEE754(b, 11, 52); }\n    function packFloat64(v) { return packIEEE754(v, 11, 52); }\n    function unpackFloat32(b) { return unpackIEEE754(b, 8, 23); }\n    function packFloat32(v) { return packIEEE754(v, 8, 23); }\n\n    var conversions = {\n      toFloat32: function (num) { return unpackFloat32(packFloat32(num)); }\n    };\n    if (typeof Float32Array !== 'undefined') {\n      var float32array = new Float32Array(1);\n      conversions.toFloat32 = function (num) {\n        float32array[0] = num;\n        return float32array[0];\n      };\n    }\n    return conversions;\n  }());\n\n  defineProperties(String, {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n\n        if (next < 0x10000) {\n          result.push(String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          result.push(String.fromCharCode((next >> 10) + 0xD800));\n          result.push(String.fromCharCode((next % 0x400) + 0xDC00));\n        }\n      }\n      return result.join('');\n    },\n\n    raw: function raw(callSite) {\n      var cooked = ES.ToObject(callSite, 'bad callSite');\n      var rawValue = cooked.raw;\n      var rawString = ES.ToObject(rawValue, 'bad raw value');\n      var len = rawString.length;\n      var literalsegments = ES.ToLength(len);\n      if (literalsegments <= 0) {\n        return '';\n      }\n\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalsegments) {\n        nextKey = String(nextIndex);\n        next = rawString[nextKey];\n        nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 >= literalsegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex++;\n      }\n      return stringElements.join('');\n    }\n  });\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = Function.apply.bind(String.fromCodePoint);\n    defineProperty(String, 'fromCodePoint', function fromCodePoint(codePoints) { return originalFromCodePoint(this, arguments); }, true);\n  }\n\n  var StringShims = {\n    // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n    // Perf: http://jsperf.com/string-repeat2/2\n    repeat: (function () {\n      var repeat = function (s, times) {\n        if (times < 1) { return ''; }\n        if (times % 2) { return repeat(s, times - 1) + s; }\n        var half = repeat(s, times / 2);\n        return half + half;\n      };\n\n      return function (times) {\n        var thisStr = String(ES.CheckObjectCoercible(this));\n        times = ES.ToInteger(times);\n        if (times < 0 || times === Infinity) {\n          throw new RangeError('Invalid String#repeat value');\n        }\n        return repeat(thisStr, times);\n      };\n    }()),\n\n    startsWith: function (searchStr) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var startArg = arguments.length > 1 ? arguments[1] : void 0;\n      var start = Math.max(ES.ToInteger(startArg), 0);\n      return thisStr.slice(start, start + searchStr.length) === searchStr;\n    },\n\n    endsWith: function (searchStr) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var thisLen = thisStr.length;\n      var posArg = arguments.length > 1 ? arguments[1] : void 0;\n      var pos = typeof posArg === 'undefined' ? thisLen : ES.ToInteger(posArg);\n      var end = Math.min(Math.max(pos, 0), thisLen);\n      return thisStr.slice(end - searchStr.length, end) === searchStr;\n    },\n\n    includes: function includes(searchString) {\n      var position = arguments.length > 1 ? arguments[1] : void 0;\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchString, position) !== -1;\n    },\n\n    codePointAt: function (pos) {\n      var thisStr = String(ES.CheckObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = (position + 1 === length);\n        if (first < 0xD800 || first > 0xDBFF || isEnd) { return first; }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) { return first; }\n        return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  defineProperties(String.prototype, StringShims);\n\n  var hasStringTrimBug = '\\u0085'.trim().length !== 1;\n  if (hasStringTrimBug) {\n    delete String.prototype.trim;\n    // whitespace from: http://es5.github.io/#x15.5.4.20\n    // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n    var ws = [\n      '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n      '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n      '\\u2029\\uFEFF'\n    ].join('');\n    var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n    defineProperties(String.prototype, {\n      trim: function () {\n        if (typeof this === 'undefined' || this === null) {\n          throw new TypeError(\"can't convert \" + this + ' to object');\n        }\n        return String(this).replace(trimRegexp, '');\n      }\n    });\n  }\n\n  // see https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    this._s = String(ES.CheckObjectCoercible(s));\n    this._i = 0;\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s, i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return { value: void 0, done: true };\n    }\n    var first = s.charCodeAt(i), second, len;\n    if (first < 0xD800 || first > 0xDBFF || (i + 1) === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = (second < 0xDC00 || second > 0xDFFF) ? 1 : 2;\n    }\n    this._i = i + len;\n    return { value: s.substr(i, len), done: false };\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n\n  if (!startsWithIsCompliant) {\n    // Firefox has a noncompliant startsWith implementation\n    defineProperties(String.prototype, {\n      startsWith: StringShims.startsWith,\n      endsWith: StringShims.endsWith\n    });\n  }\n\n  var ArrayShims = {\n    from: function (iterable) {\n      var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n      var list = ES.ToObject(iterable, 'bad iterable');\n      if (typeof mapFn !== 'undefined' && !ES.IsCallable(mapFn)) {\n        throw new TypeError('Array.from: when provided, the second argument must be a function');\n      }\n\n      var hasThisArg = arguments.length > 2;\n      var thisArg = hasThisArg ? arguments[2] : void 0;\n\n      var usingIterator = ES.IsIterable(list);\n      // does the spec really mean that Arrays should use ArrayIterator?\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      //if (Array.isArray(list)) { usingIterator=false; }\n\n      var length;\n      var result, i, value;\n      if (usingIterator) {\n        i = 0;\n        result = ES.IsCallable(this) ? Object(new this()) : [];\n        var it = usingIterator ? ES.GetIterator(list) : null;\n        var iterationValue;\n\n        do {\n          iterationValue = ES.IteratorNext(it);\n          if (!iterationValue.done) {\n            value = iterationValue.value;\n            if (mapFn) {\n              result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n            } else {\n              result[i] = value;\n            }\n            i += 1;\n          }\n        } while (!iterationValue.done);\n        length = i;\n      } else {\n        length = ES.ToLength(list.length);\n        result = ES.IsCallable(this) ? Object(new this(length)) : new Array(length);\n        for (i = 0; i < length; ++i) {\n          value = list[i];\n          if (mapFn) {\n            result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n          } else {\n            result[i] = value;\n          }\n        }\n      }\n\n      result.length = length;\n      return result;\n    },\n\n    of: function () {\n      return Array.from(arguments);\n    }\n  };\n  defineProperties(Array, ArrayShims);\n\n  var arrayFromSwallowsNegativeLengths = function () {\n    try {\n      return Array.from({ length: -1 }).length === 0;\n    } catch (e) {\n      return false;\n    }\n  };\n  // Fixes a Firefox bug in v32\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n  if (!arrayFromSwallowsNegativeLengths()) {\n    defineProperty(Array, 'from', ArrayShims.from, true);\n  }\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n      this.i = 0;\n      this.array = array;\n      this.kind = kind;\n  };\n\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i, array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return { value: retval, done: false };\n        }\n      }\n      this.array = void 0;\n      return { value: void 0, done: true };\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n  var ArrayPrototypeShims = {\n    copyWithin: function (target, start) {\n      var end = arguments[2]; // copyWithin.length must be 2\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      target = ES.ToInteger(target);\n      start = ES.ToInteger(start);\n      var to = target < 0 ? Math.max(len + target, 0) : Math.min(target, len);\n      var from = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      end = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var fin = end < 0 ? Math.max(len + end, 0) : Math.min(end, len);\n      var count = Math.min(fin - from, len - to);\n      var direction = 1;\n      if (from < to && to < (from + count)) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (_hasOwnProperty(o, from)) {\n          o[to] = o[from];\n        } else {\n          delete o[from];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n\n    fill: function (value) {\n      var start = arguments.length > 1 ? arguments[1] : void 0;\n      var end = arguments.length > 2 ? arguments[2] : void 0;\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n\n      var relativeStart = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (predicate.call(thisArg, value, i, list)) { return value; }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (predicate.call(thisArg, list[i], i, list)) { return i; }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    keys: function () {\n      return new ArrayIterator(this, 'key');\n    },\n\n    values: function () {\n      return new ArrayIterator(this, 'value');\n    },\n\n    entries: function () {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n\n  addIterator(Array.prototype, function () { return this.values(); });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    addIterator(Object.getPrototypeOf([].values()));\n  }\n\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n\n    isFinite: function (value) {\n      return typeof value === 'number' && global_isFinite(value);\n    },\n\n    isInteger: function (value) {\n      return Number.isFinite(value) && ES.ToInteger(value) === value;\n    },\n\n    isSafeInteger: function (value) {\n      return Number.isInteger(value) && Math.abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n\n    isNaN: function (value) {\n      // NaN !== NaN, but they are identical.\n      // NaNs are the only non-reflexive value, i.e., if x !== x,\n      // then x is NaN.\n      // isNaN is broken: it converts its argument to number, so\n      // isNaN('foo') => true\n      return value !== value;\n    }\n  });\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  if (![, 1].find(function (item, idx) { return idx === 0; })) {\n    defineProperty(Array.prototype, 'find', ArrayPrototypeShims.find, true);\n  }\n  if ([, 1].findIndex(function (item, idx) { return idx === 0; }) !== 0) {\n    defineProperty(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex, true);\n  }\n\n  if (supportsDescriptors) {\n    defineProperties(Object, {\n      // 19.1.3.1\n      assign: function (target, source) {\n        if (!ES.TypeIsObject(target)) {\n          throw new TypeError('target must be an object');\n        }\n        return Array.prototype.reduce.call(arguments, function (target, source) {\n          return Object.keys(Object(source)).reduce(function (target, key) {\n            target[key] = source[key];\n            return target;\n          }, target);\n        });\n      },\n\n      is: function (a, b) {\n        return ES.SameValue(a, b);\n      },\n\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: (function (Object, magic) {\n        var set;\n\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          set.call(O, proto);\n          return O;\n        };\n\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n          set.call({}, null);\n        } catch (e) {\n          if (Object.prototype !== {}[magic]) {\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this[magic] = proto;\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(\n            setPrototypeOf({}, null),\n            Object.prototype\n          ) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object, '__proto__'))\n    });\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf &&\n      Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null &&\n      Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf, spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        if (p === null) { p = FAKENULL; }\n        return spo(o, p);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    }());\n  }\n\n  try {\n    Object.keys('foo');\n  } catch (e) {\n    var originalObjectKeys = Object.keys;\n    Object.keys = function (obj) {\n      return originalObjectKeys(ES.ToObject(obj));\n    };\n  }\n\n  if (!RegExp.prototype.flags && supportsDescriptors) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n\n  var regExpSupportsFlagsWithRegex = (function () {\n    try {\n      return String(new RegExp(/a/g, 'i')) === '/a/i';\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  if (!regExpSupportsFlagsWithRegex && supportsDescriptors) {\n    var OrigRegExp = RegExp;\n    var RegExpShim = function RegExp(pattern, flags) {\n      if (Type.regex(pattern) && Type.string(flags)) {\n        return new RegExp(pattern.source, flags);\n      }\n      return new OrigRegExp(pattern, flags);\n    };\n    defineProperty(RegExpShim, 'toString', OrigRegExp.toString.bind(OrigRegExp), true);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(OrigRegExp, RegExpShim);\n    }\n    Object.getOwnPropertyNames(OrigRegExp).forEach(function (key) {\n      if (key === '$input') { return; } // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n      if (key in noop) { return; }\n      Value.proxy(OrigRegExp, key, RegExpShim);\n    });\n    RegExpShim.prototype = OrigRegExp.prototype;\n    Value.redefine(OrigRegExp.prototype, 'constructor', RegExpShim);\n    /*globals RegExp: true */\n    RegExp = RegExpShim;\n    Value.redefine(globals, 'RegExp', RegExpShim);\n    /*globals RegExp: false */\n  }\n\n  var MathShims = {\n    acosh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value < 1) { return NaN; }\n      if (value === 1) { return 0; }\n      if (value === Infinity) { return value; }\n      return Math.log(value + Math.sqrt(value * value - 1));\n    },\n\n    asinh: function (value) {\n      value = Number(value);\n      if (value === 0 || !global_isFinite(value)) {\n        return value;\n      }\n      return value < 0 ? -Math.asinh(-value) : Math.log(value + Math.sqrt(value * value + 1));\n    },\n\n    atanh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value < -1 || value > 1) {\n        return NaN;\n      }\n      if (value === -1) { return -Infinity; }\n      if (value === 1) { return Infinity; }\n      if (value === 0) { return value; }\n      return 0.5 * Math.log((1 + value) / (1 - value));\n    },\n\n    cbrt: function (value) {\n      value = Number(value);\n      if (value === 0) { return value; }\n      var negate = value < 0, result;\n      if (negate) { value = -value; }\n      result = Math.pow(value, 1 / 3);\n      return negate ? -result : result;\n    },\n\n    clz32: function (value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      value = Number(value);\n      var number = ES.ToUint32(value);\n      if (number === 0) {\n        return 32;\n      }\n      return 32 - (number).toString(2).length;\n    },\n\n    cosh: function (value) {\n      value = Number(value);\n      if (value === 0) { return 1; } // +0 or -0\n      if (Number.isNaN(value)) { return NaN; }\n      if (!global_isFinite(value)) { return Infinity; }\n      if (value < 0) { value = -value; }\n      if (value > 21) { return Math.exp(value) / 2; }\n      return (Math.exp(value) + Math.exp(-value)) / 2;\n    },\n\n    expm1: function (value) {\n      value = Number(value);\n      if (value === -Infinity) { return -1; }\n      if (!global_isFinite(value) || value === 0) { return value; }\n      return Math.exp(value) - 1;\n    },\n\n    hypot: function (x, y) {\n      var anyNaN = false;\n      var allZero = true;\n      var anyInfinity = false;\n      var numbers = [];\n      Array.prototype.every.call(arguments, function (arg) {\n        var num = Number(arg);\n        if (Number.isNaN(num)) {\n          anyNaN = true;\n        } else if (num === Infinity || num === -Infinity) {\n          anyInfinity = true;\n        } else if (num !== 0) {\n          allZero = false;\n        }\n        if (anyInfinity) {\n          return false;\n        } else if (!anyNaN) {\n          numbers.push(Math.abs(num));\n        }\n        return true;\n      });\n      if (anyInfinity) { return Infinity; }\n      if (anyNaN) { return NaN; }\n      if (allZero) { return 0; }\n\n      numbers.sort(function (a, b) { return b - a; });\n      var largest = numbers[0];\n      var divided = numbers.map(function (number) { return number / largest; });\n      var sum = divided.reduce(function (sum, number) { return sum + (number * number); }, 0);\n      return largest * Math.sqrt(sum);\n    },\n\n    log2: function (value) {\n      return Math.log(value) * Math.LOG2E;\n    },\n\n    log10: function (value) {\n      return Math.log(value) * Math.LOG10E;\n    },\n\n    log1p: function (value) {\n      value = Number(value);\n      if (value < -1 || Number.isNaN(value)) { return NaN; }\n      if (value === 0 || value === Infinity) { return value; }\n      if (value === -1) { return -Infinity; }\n      var result = 0;\n      var n = 50;\n\n      if (value < 0 || value > 1) { return Math.log(1 + value); }\n      for (var i = 1; i < n; i++) {\n        if ((i % 2) === 0) {\n          result -= Math.pow(value, i) / i;\n        } else {\n          result += Math.pow(value, i) / i;\n        }\n      }\n\n      return result;\n    },\n\n    sign: function (value) {\n      var number = +value;\n      if (number === 0) { return number; }\n      if (Number.isNaN(number)) { return number; }\n      return number < 0 ? -1 : 1;\n    },\n\n    sinh: function (value) {\n      value = Number(value);\n      if (!global_isFinite(value) || value === 0) { return value; }\n      return (Math.exp(value) - Math.exp(-value)) / 2;\n    },\n\n    tanh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value === 0) { return value; }\n      if (value === Infinity) { return 1; }\n      if (value === -Infinity) { return -1; }\n      return (Math.exp(value) - Math.exp(-value)) / (Math.exp(value) + Math.exp(-value));\n    },\n\n    trunc: function (value) {\n      var number = Number(value);\n      return number < 0 ? -Math.floor(-number) : Math.floor(number);\n    },\n\n    imul: function (x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      x = ES.ToUint32(x);\n      y = ES.ToUint32(y);\n      var ah = (x >>> 16) & 0xffff;\n      var al = x & 0xffff;\n      var bh = (y >>> 16) & 0xffff;\n      var bl = y & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);\n    },\n\n    fround: function (x) {\n      if (x === 0 || x === Infinity || x === -Infinity || Number.isNaN(x)) {\n        return x;\n      }\n      var num = Number(x);\n      return numberConversion.toFloat32(num);\n    }\n  };\n  defineProperties(Math, MathShims);\n\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = (function () {\n\n    var Promise, Promise$prototype;\n\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (!promise._promiseConstructor) {\n        // _promiseConstructor is a bit more unique than _status, so we'll\n        // check that instead of the [[PromiseStatus]] internal field.\n        return false;\n      }\n      if (typeof promise._status === 'undefined') {\n        return false; // uninitialized\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsCallable(C)) {\n        throw new TypeError('bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      capability.promise = ES.Construct(C, [resolver]);\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2478\n      if (!capability.promise._es6construct) {\n        throw new TypeError('bad promise constructor');\n      }\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var setTimeout = globals.setTimeout;\n    var makeZeroTimeout;\n    /*global window */\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          timeouts.push(fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) { return; }\n            var fn = timeouts.shift();\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      return P && P.resolve && function (task) {\n        return P.resolve().then(task);\n      };\n    };\n    /*global process */\n    var enqueue = ES.IsCallable(globals.setImmediate) ?\n      globals.setImmediate.bind(globals) :\n      typeof process === 'object' && process.nextTick ? process.nextTick :\n      makePromiseAsap() ||\n      (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() :\n      function (task) { setTimeout(task, 0); }); // fallback\n\n    var updatePromiseFromPotentialThenable = function (x, capability) {\n      if (!ES.TypeIsObject(x)) {\n        return false;\n      }\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      try {\n        var then = x.then; // only one invocation of accessor\n        if (!ES.IsCallable(then)) { return false; }\n        then.call(x, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return true;\n    };\n\n    var triggerPromiseReactions = function (reactions, x) {\n      reactions.forEach(function (reaction) {\n        enqueue(function () {\n          // PromiseReactionTask\n          var handler = reaction.handler;\n          var capability = reaction.capability;\n          var resolve = capability.resolve;\n          var reject = capability.reject;\n          try {\n            var result = handler(x);\n            if (result === capability.promise) {\n              throw new TypeError('self resolution');\n            }\n            var updateResult =\n              updatePromiseFromPotentialThenable(result, capability);\n            if (!updateResult) {\n              resolve(result);\n            }\n          } catch (e) {\n            reject(e);\n          }\n        });\n      });\n    };\n\n    var promiseResolutionHandler = function (promise, onFulfilled, onRejected) {\n      return function (x) {\n        if (x === promise) {\n          return onRejected(new TypeError('self resolution'));\n        }\n        var C = promise._promiseConstructor;\n        var capability = new PromiseCapability(C);\n        var updateResult = updatePromiseFromPotentialThenable(x, capability);\n        if (updateResult) {\n          return capability.promise.then(onFulfilled, onRejected);\n        } else {\n          return onFulfilled(x);\n        }\n      };\n    };\n\n    Promise = function (resolver) {\n      var promise = this;\n      promise = emulateES6construct(promise);\n      if (!promise._promiseConstructor) {\n        // we use _promiseConstructor as a stand-in for the internal\n        // [[PromiseStatus]] field; it's a little more unique.\n        throw new TypeError('bad promise');\n      }\n      if (typeof promise._status !== 'undefined') {\n        throw new TypeError('promise already initialized');\n      }\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n      if (!ES.IsCallable(resolver)) {\n        throw new TypeError('not a valid resolver');\n      }\n      promise._status = 'unresolved';\n      promise._resolveReactions = [];\n      promise._rejectReactions = [];\n\n      var resolve = function (resolution) {\n        if (promise._status !== 'unresolved') { return; }\n        var reactions = promise._resolveReactions;\n        promise._result = resolution;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-resolution';\n        triggerPromiseReactions(reactions, resolution);\n      };\n      var reject = function (reason) {\n        if (promise._status !== 'unresolved') { return; }\n        var reactions = promise._rejectReactions;\n        promise._result = reason;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-rejection';\n        triggerPromiseReactions(reactions, reason);\n      };\n      try {\n        resolver(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return promise;\n    };\n    Promise$prototype = Promise.prototype;\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var done = false;\n      return function (x) {\n        if (done) { return; } // protect against being called multiple times\n        done = true;\n        values[index] = x;\n        if ((--remaining.count) === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n\n    defineProperties(Promise, {\n      '@@create': function (obj) {\n        var constructor = this;\n        // AllocatePromise\n        // The `obj` parameter is a hack we use for es5\n        // compatibility.\n        var prototype = constructor.prototype || Promise$prototype;\n        obj = obj || create(prototype);\n        defineProperties(obj, {\n          _status: void 0,\n          _result: void 0,\n          _resolveReactions: void 0,\n          _rejectReactions: void 0,\n          _promiseConstructor: void 0\n        });\n        obj._promiseConstructor = constructor;\n        return obj;\n      },\n\n      all: function all(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          var values = [], remaining = { count: 1 };\n          for (var index = 0; ; index++) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            var resolveElement = _promiseAllResolver(\n              index, values, capability, remaining\n            );\n            remaining.count++;\n            nextPromise.then(resolveElement, capability.reject);\n          }\n          if ((--remaining.count) === 0) {\n            resolve(values); // call w/ this===undefined\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n\n      race: function race(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          while (true) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              // If iterable has no items, resulting promise will never\n              // resolve; see:\n              // https://github.com/domenic/promises-unwrapping/issues/75\n              // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            nextPromise.then(resolve, reject);\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n\n      reject: function reject(reason) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var rejectPromise = capability.reject;\n        rejectPromise(reason); // call with this===undefined\n        return capability.promise;\n      },\n\n      resolve: function resolve(v) {\n        var C = this;\n        if (ES.IsPromise(v)) {\n          var constructor = v._promiseConstructor;\n          if (constructor === C) { return v; }\n        }\n        var capability = new PromiseCapability(C);\n        var resolvePromise = capability.resolve;\n        resolvePromise(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(void 0, onRejected);\n      },\n\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) { throw new TypeError('not a promise'); }\n        // this.constructor not this._promiseConstructor; see\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2513\n        var C = this.constructor;\n        var capability = new PromiseCapability(C);\n        if (!ES.IsCallable(onRejected)) {\n          onRejected = function (e) { throw e; };\n        }\n        if (!ES.IsCallable(onFulfilled)) {\n          onFulfilled = function (x) { return x; };\n        }\n        var resolutionHandler = promiseResolutionHandler(promise, onFulfilled, onRejected);\n        var resolveReaction = { capability: capability, handler: resolutionHandler };\n        var rejectReaction = { capability: capability, handler: onRejected };\n        switch (promise._status) {\n          case 'unresolved':\n            promise._resolveReactions.push(resolveReaction);\n            promise._rejectReactions.push(rejectReaction);\n            break;\n          case 'has-resolution':\n            triggerPromiseReactions([resolveReaction], promise._result);\n            break;\n          case 'has-rejection':\n            triggerPromiseReactions([rejectReaction], promise._result);\n            break;\n          default:\n            throw new TypeError('unexpected');\n        }\n        return capability.promise;\n      }\n    });\n\n    return Promise;\n  }());\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  // export the Promise constructor.\n  defineProperties(globals, { Promise: PromiseShim });\n  // In Chrome 33 (and thereabouts) Promise is defined, but the\n  // implementation is buggy in a number of ways.  Let's check subclassing\n  // support to see if we have a buggy implementation.\n  var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n    return S.resolve(42) instanceof S;\n  });\n  var promiseIgnoresNonFunctionThenCallbacks = (function () {\n    try {\n      globals.Promise.reject(42).then(null, 5).then(null, noop);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }());\n  var promiseRequiresObjectContext = (function () {\n    /*global Promise */\n    try { Promise.call(3, noop); } catch (e) { return true; }\n    return false;\n  }());\n  if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks || !promiseRequiresObjectContext) {\n    /*globals Promise: true */\n    Promise = PromiseShim;\n    /*globals Promise: false */\n    defineProperty(globals, 'Promise', PromiseShim, true);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = Object.keys(a.reduce(function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n\n  if (supportsDescriptors) {\n\n    var fastkey = function fastkey(key) {\n      if (!preservesInsertionOrder) {\n        return null;\n      }\n      var type = typeof key;\n      if (type === 'string') {\n        return '$' + key;\n      } else if (type === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      }\n      return null;\n    };\n\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n\n    var collectionShims = {\n      Map: (function () {\n\n        var empty = {};\n\n        function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        }\n\n        MapEntry.prototype.isRemoved = function () {\n          return this.key === empty;\n        };\n\n        function MapIterator(map, kind) {\n          this.head = map._head;\n          this.i = this.head;\n          this.kind = kind;\n        }\n\n        MapIterator.prototype = {\n          next: function () {\n            var i = this.i, kind = this.kind, head = this.head, result;\n            if (typeof this.i === 'undefined') {\n              return { value: void 0, done: true };\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return { value: result, done: false };\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return { value: void 0, done: true };\n          }\n        };\n        addIterator(MapIterator.prototype);\n\n        function Map(iterable) {\n          var map = this;\n          if (!ES.TypeIsObject(map)) {\n            throw new TypeError('Map does not accept arguments when called as a function');\n          }\n          map = emulateES6construct(map);\n          if (!map._es6map) {\n            throw new TypeError('bad map');\n          }\n\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          head.next = head.prev = head;\n\n          defineProperties(map, {\n            _head: head,\n            _storage: emptyObject(),\n            _size: 0\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = map.set;\n            if (!ES.IsCallable(adder)) { throw new TypeError('bad map'); }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) { break; }\n              var nextItem = next.value;\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('expected iterable of pairs');\n              }\n              adder.call(map, nextItem[0], nextItem[1]);\n            }\n          }\n          return map;\n        }\n        var Map$prototype = Map.prototype;\n        defineProperties(Map, {\n          '@@create': function (obj) {\n            var constructor = this;\n            var prototype = constructor.prototype || Map$prototype;\n            obj = obj || create(prototype);\n            defineProperties(obj, { _es6map: true });\n            return obj;\n          }\n        });\n\n        Value.getter(Map.prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n\n        defineProperties(Map.prototype, {\n          get: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              var entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            var head = this._head, i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n\n          has: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            var head = this._head, i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n\n          set: function (key, value) {\n            var head = this._head, i = head, entry;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              } else {\n                entry = this._storage[fkey] = new MapEntry(key, value);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n\n          'delete': function (key) {\n            var head = this._head, i = head;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n\n          clear: function () {\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head, i = head, p = i.next;\n            while ((i = p) !== head) {\n              i.key = i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n\n          keys: function () {\n            return new MapIterator(this, 'key');\n          },\n\n          values: function () {\n            return new MapIterator(this, 'value');\n          },\n\n          entries: function () {\n            return new MapIterator(this, 'key+value');\n          },\n\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                callback.call(context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map.prototype, function () { return this.entries(); });\n\n        return Map;\n      }()),\n\n      Set: (function () {\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var SetShim = function Set(iterable) {\n          var set = this;\n          if (!ES.TypeIsObject(set)) {\n            throw new TypeError('Set does not accept arguments when called as a function');\n          }\n          set = emulateES6construct(set);\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          defineProperties(set, {\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = set.add;\n            if (!ES.IsCallable(adder)) { throw new TypeError('bad set'); }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) { break; }\n              var nextItem = next.value;\n              adder.call(set, nextItem);\n            }\n          }\n          return set;\n        };\n        var Set$prototype = SetShim.prototype;\n        defineProperties(SetShim, {\n          '@@create': function (obj) {\n            var constructor = this;\n            var prototype = constructor.prototype || Set$prototype;\n            obj = obj || create(prototype);\n            defineProperties(obj, { _es6set: true });\n            return obj;\n          }\n        });\n\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = set['[[SetData]]'] = new collectionShims.Map();\n            Object.keys(set._storage).forEach(function (k) {\n              // fast check for leading '$'\n              if (k.charCodeAt(0) === 36) {\n                k = k.slice(1);\n              } else if (k.charAt(0) === 'n') {\n                k = +k.slice(1);\n              } else {\n                k = +k;\n              }\n              m.set(k, k);\n            });\n            set._storage = null; // free old backing storage\n          }\n        };\n\n        Value.getter(SetShim.prototype, 'size', function () {\n          if (typeof this._storage === 'undefined') {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('size method called on incompatible Set');\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n\n        defineProperties(SetShim.prototype, {\n          has: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n\n          add: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n\n          'delete': function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return (delete this._storage[fkey]) && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n\n          clear: function () {\n            if (this._storage) {\n              this._storage = emptyObject();\n            } else {\n              this['[[SetData]]'].clear();\n            }\n          },\n\n          values: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].values();\n          },\n\n          entries: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].entries();\n          },\n\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                callback.call(context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim, 'keys', SetShim.values, true);\n        addIterator(SetShim.prototype, function () { return this.values(); });\n\n        return SetShim;\n      }())\n    };\n    defineProperties(globals, collectionShims);\n\n    if (globals.Map || globals.Set) {\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (\n        typeof globals.Map.prototype.clear !== 'function' ||\n        new globals.Set().size !== 0 ||\n        new globals.Map().size !== 0 ||\n        typeof globals.Map.prototype.keys !== 'function' ||\n        typeof globals.Set.prototype.keys !== 'function' ||\n        typeof globals.Map.prototype.forEach !== 'function' ||\n        typeof globals.Set.prototype.forEach !== 'function' ||\n        isCallableWithoutNew(globals.Map) ||\n        isCallableWithoutNew(globals.Set) ||\n        !supportsSubclassing(globals.Map, function (M) {\n          var m = new M([]);\n          // Firefox 32 is ok with the instantiating the subclass but will\n          // throw when the map is used.\n          m.set(42, 42);\n          return m instanceof M;\n        })\n      ) {\n        globals.Map = collectionShims.Map;\n        globals.Set = collectionShims.Set;\n      }\n    }\n    if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n      defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n    }\n    // Shim incomplete iterator implementations.\n    addIterator(Object.getPrototypeOf((new globals.Map()).keys()));\n    addIterator(Object.getPrototypeOf((new globals.Set()).keys()));\n  }\n\n  return globals;\n}));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}